settings:
  log_level: "INFO"
  leaf_samples_folder_path: "data/leaf_samples"
  results_folder_path: "reports/results/mlr"

read_data:
  LeafSampleReader:
    read_selected_csvs:
      leaf_states: [dried]
      seasons: [1,2,3,4]
  DataCleaner:
  # You invoke drop_null_data, impute_data and remove_outliers in read_data stage and/or in TestTrainSplit stage
  # Note that remove_outliers can only be used for training data in TestTrainSplit stage
    drop_null_data:
        row_threshold: 0.5
        target_col_threshold: 0.5
        feature_col_threshold: 0.5
        reset_index: False

TestTrainSplit:
  method: "stratified"
  train:
    DataCleaner:
      impute_data:
        target_method: "knn"
        feature_method: "neighbour_avg"
      remove_outliers:
        method: ~ #use ~ for exluding the method or commenting the entire method
        feature_outlier_threshold: 95
  test:
    DataCleaner:
      impute_data:
        target_method: "knn"
        feature_method: "neighbour_avg"
      
TargetScaler:
  scaling_methods:
    Al: quantile # use ~ for not scaling
    B: quantile
    Ca: quantile
    Cl: quantile
    Cu: quantile
    Fe: quantile
    Mg: quantile
    Mn: quantile
    N: quantile
    P: quantile
    K: quantile
    Na: quantile
    S: quantile
    Zn: quantile

BaselineCorrector:
  method: "als" # use ~ for not correcting the baseline
  mean_based: False
  rescale: True
  parameters:
    #poly_order: 2
     lam: 100000
     p: 0.1
     niter: 5
     als_precalculated_folder: "optimised_als_corrected_samples_dried"

PeakFeatureExtraction:
  min_prominence: 0.01
  show_plot: True
  
DataReducer:
  method: ~ # use ~ for not reducing the data
  parameters:
    reset_index: True # need to keep as True to avoid null errors at the end of the pipeline
    n_components: 10
    #wavelength_bins: 50 # if using binning

RegressionModels:
  model_type: "MLR"
  k_fold: 1
  # param_grid:
  #   n_components: [2, 3, 4, 5]
  #   scale: [True, False]
  #   max_iter: [500, 1000]
  #   tol: [0.000001, 0.00001]
  #   copy: [True, False]

Evaluate:
  metrics:  [r2, mse, rmse, rrmse, mae, mape, wrmse]
  weights:
    Al: 0.6
    B: 0.8
    Ca: 0.6
    Cl: 0
    Cu: 0.6
    Fe: 0.6
    Mg: 0.6
    Mn: 0.8
    N: 1
    P: 1
    K: 1
    Na: 0
    S: 0.6
    Zn: 0.6