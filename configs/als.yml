settings:
  log_level: "INFO"
  leaf_samples_folder_path: "data/leaf_samples"
  results_folder_path: "reports/results/pls"

read_data:
  LeafSampleReader:
    read_selected_csvs:
      leaf_states: [dried]
      seasons: [1,2,3,4]
  DataCleaner:
  # You invoke drop_null_data, impute_data and remove_outliers in read_data stage and/or in TestTrainSplit stage
  # Note that remove_outliers can only be used for training data in TestTrainSplit stage
    drop_null_data:
        row_threshold: 0.5
        target_col_threshold: 0.5
        feature_col_threshold: 0.5
        reset_index: False

TestTrainSplit:
  method: "stratified"
  train:
    DataCleaner:
      impute_data:
        target_method: "knn"
        feature_method: "neighbour_avg"
      remove_outliers:
        method: "both" #use ~ for exluding the method or commenting the entire method
        feature_outlier_threshold: 95
  test:
    DataCleaner:
      impute_data:
        target_method: "knn"
        feature_method: "neighbour_avg"

DataCleaner:
  drop_null_data:
      row_threshold: 0.5
      target_col_threshold: 0.5
      feature_col_threshold: 0.5
      reset_index: False

TargetScaler:
  scaling_methods:
    Al: quantile
    B: quantile
    Ca: quantile
    Cl: quantile
    Cu: quantile
    Fe: quantile
    Mg: quantile
    Mn: quantile
    N: quantile
    P: quantile
    K: quantile
    Na: quantile
    S: quantile
    Zn: quantile

BaselineCorrector:
  method: "als"
  mean_baseline: False
  rescale: True
  parameters:
    lam: 100000
    p: 0.1
    niter: 5
    als_precalculated_folder: "stratified_als_corrected_samples_dried"
#    best dried parameters
#    lam: 100000
#    p: 0.1
#    niter: 5
#    als_precalculated_folder: "stratified_als_corrected_samples_dried"

#    best fresh parameters
#    lam: 100000
#    p: 0.01
#    niter: 5
#    als_precalculated_folder: "stratified_als_corrected_samples_fresh"


PeakFeatureExtraction:
  min_prominence: 0.01
  show_plot: True

DataReducer:
  method: ~ # use ~ for not reducing the data
  parameters:
    reset_index: True # need to keep as True to avoid null errors at the end of the pipeline
    n_components: 2

RegressionModels:
  model_type: "PLS"
  param_grid:
#    alpha: [0.1, 0.01, 0.001]
#    l1_ratio: [0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8]
    n_components: [2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40]
#    scale: [True, False]
#    max_iter: [500, 1000]
#    tol: [0.000001, 0.00001]
#    copy: [True, False]

Metrics:
  [r2, mse, rmse, rrmse, mae, mape]


